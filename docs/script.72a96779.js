parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"wihe":[function(require,module,exports) {
"use strict";function e(e,r,t){var n=e.width,i=e.height;return[.5*(r/(n/i)+1)*n,.5*(t+1)*i]}function r(e,r,t){var n=e.width,i=e.height;return[+(2*r/n-1)*(n/i),+(2*t/i-1)]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.screen=e,exports.inverseScreen=r;
},{}],"ji7c":[function(require,module,exports) {
"use strict";function r(r){return e(r)||n(r)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function e(r){if(Array.isArray(r)){for(var t=0,n=new Array(r.length);t<r.length;t++)n[t]=r[t];return n}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.scale=i,exports.add=p,exports.subtract=c,exports.normsq=s,exports.norm=f,exports.lerp=l,exports.bezier=v,exports.bezierder=x,exports.bezierinvt=h,exports.bezierinvtnt=y,exports.bezierspl=b,exports.bezierspla=w,exports.beziersplb=M,exports.bezierspl2=d,exports.normal=m,exports.dot=z,exports.cross=T,exports.transform1=q,exports.transform=g,exports.normalize=A,exports.rescale=j,exports.negate=O,exports.moveTo=S,exports.lineTo=k,exports.quadraticCurveTo=C;var o=function(r,t,n,e){return t+Math.pow(1-e,2)*(r-t)+Math.pow(e,2)*(n-t)},u=function(r,t,n,e){return 2*(1-e)*(t-r)+2*e*(n-t)},a=function(r,t,n){return(1-n)*r+n*t};function i(r,t){return[r[0]*t,r[1]*t]}function p(r,t){return[r[0]+t[0],r[1]+t[1]]}function c(r,t){return[r[0]-t[0],r[1]-t[1]]}function s(r){return Math.pow(r[0],2)+Math.pow(r[1],2)}function f(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2))}function l(r,t,n){return[a(r[0],t[0],n),a(r[1],t[1],n)]}function v(r,t,n,e){return[o(r[0],t[0],n[0],e),o(r[1],t[1],n[1],e)]}function x(r,t,n,e){return[u(r[0],t[0],n[0],e),u(r[1],t[1],n[1],e)]}function h(r,t,n,e,o){for(var u=1/o,a=0,i=v(r,t,n,0),p=1;p<=o;p++){var s=p*u;if(a>e)return s;var l=v(r,t,n,s);a+=f(c(l,i)),i=l}return 1}function y(r,t,n,e,o){for(var u=1/o,a=0,i=[0],p=v(r,t,n,0),s=1;s<=o;s++){var l=s*u;i.push(a);var x=v(r,t,n,l);a+=f(c(x,p)),p=x}var h=i[o],y=[],b=!0,w=!1,M=void 0;try{for(var d,m=e[Symbol.iterator]();!(b=(d=m.next()).done);b=!0){var z=d.value,T=!1;if(z<0){z=h+z;for(var q=o;q>=0;q--)if(i[q]<z){y.push(q*u),T=!0;break}T||y.push(1)}else{for(var g=0;g<=o;g++)if(i[g]>z){y.push(g*u),T=!0;break}T||y.push(0)}}}catch(A){w=!0,M=A}finally{try{b||null==m.return||m.return()}finally{if(w)throw M}}return y}function b(r,t,n,e){var o=r,u=l(r,t,e),a=v(r,t,n,e);return[o,u,a,a,l(t,n,e),n]}function w(r,t,n,e){return[r,l(r,t,e),v(r,t,n,e)]}function M(r,t,n,e){return[v(r,t,n,e),l(t,n,e),n]}function d(t,n,e,o,u){return M.apply(void 0,r(w(t,n,e,u)).concat([o/u]))}function m(r){return[-r[1],r[0]]}function z(r,t){return r[0]*t[0]+r[1]*t[1]}function T(r,t){return r[0]*t[1]-r[1]*t[0]}function q(r,t,n){return[r[0]+t[0]*n,r[1]+t[1]*n]}function g(r,t,n,e){return[r[0]+t[0]*e[0]+n[0]*e[1],r[1]+t[1]*e[0]+n[1]*e[1]]}function A(r){var t=1/Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2));return[r[0]*t,r[1]*t]}function j(r,t){var n=1/Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2))*t;return[r[0]*n,r[1]*n]}function O(r){return[-r[0],-r[1]]}function S(t,n,e){t.moveTo.apply(t,r(n.screen.apply(n,[t].concat(r(e)))))}function k(t,n,e){t.lineTo.apply(t,r(n.screen.apply(n,[t].concat(r(e)))))}function C(t,n,e,o){t.quadraticCurveTo.apply(t,r(n.screen.apply(n,[t].concat(r(e)))).concat(r(n.screen.apply(n,[t].concat(r(o))))))}
},{}],"knfB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=v;var e=t(require("./screen")),r=t(require("./vector"));function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function n(e){return a(e)||i(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}function l(e,r){return f(e)||s(e,r)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(e,r){var t=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return t}function f(e){if(Array.isArray(e))return e}var d=function(e,r,t,n){return r+Math.pow(1-n,2)*(e-r)+Math.pow(n,2)*(t-r)};function v(t,o,i,a){return void 0===o&&(o={}),void 0===i&&(i={}),void 0===a&&(a=0),void 0===t&&(t=!1),{iud:function(){return t},vertices:function(){return o},edges:function(){return i},transpose:function(){for(var e=JSON.parse(JSON.stringify(o)),r=JSON.parse(JSON.stringify(i)),n={},c=Object.entries(e),s=0;s<c.length;s++){var f=l(c[s],2);f[0];n[f[1].id]=[]}for(var d=Object.entries(e),u=0;u<d.length;u++){var h=l(d[u],2),y=(h[0],h[1].id);if(void 0!==r[y])for(var p=Object.entries(r[y]),b=0;b<p.length;b++){var g=l(p[b],2),x=(g[0],g[1]),m=x.id;x.id=y,n[m].push(x)}}return v(t,e,n,a)},draw:function(a,c){a.font="bold 18px Ubuntu";for(var s=(new Date).getTime(),f=(a.width,a.height,Object.entries(o)),d=0;d<f.length;d++)for(var v=l(f[d],2),u=v[0],h=v[1],y=Object.entries(i[u]),p=0;p<y.length;p++){var b=l(y[p],2),g=(b[0],b[1]),x=g.id,m=[o[u].x,o[u].y],O=[o[x].x,o[x].y],T=(r.norm(r.subtract(O,m)),r.lerp(m,O,.5)),j=r.normalize(r.subtract(O,m)),z=r.normal(j),F=r.transform1(T,z,g.bezier),P=r.bezier(m,F,O,.5),S=void 0;S=t?r.bezierinvtnt(m,F,O,[.06,-.06,-.08],100):r.bezierinvtnt(m,F,O,[.06,-.08,-.1],100);for(var w=l(r.bezierspl2(m,F,O,S[0],S[1]),3),A=w[0],M=w[1],k=w[2],I=[r.normal(r.normalize(r.bezierder(A,M,k,0))),r.normal(r.normalize(r.bezierder(A,M,k,.5))),r.normal(r.normalize(r.bezierder(A,M,k,1)))],q=I[0],E=I[1],C=I[2],J={},N=Object.entries(g.events),_=0;_<N.length;_++){var D=l(N[_],2),V=D[0],W=D[1];s>V?W():J[V]=W}if(g.events=J,a.fillStyle=g.color,a.beginPath(),r.moveTo(a,e,r.transform1(A,q,.005)),r.lineTo(a,e,r.transform1(A,q,-.005)),r.quadraticCurveTo(a,e,r.transform1(M,E,-.005),r.transform1(k,C,-.005)),r.lineTo(a,e,r.transform1(k,C,.005)),r.quadraticCurveTo(a,e,r.transform1(M,E,.005),r.transform1(A,q,.005)),a.fill(),!t){var R=[r.normal(C),C],U=R[0],B=R[1];a.beginPath(),r.moveTo(a,e,r.transform(k,U,B,[0,-.02])),r.lineTo(a,e,r.transform(k,U,B,[0,-.02])),r.lineTo(a,e,r.transform(k,U,B,[-.02*Math.sqrt(3),0])),r.lineTo(a,e,r.transform(k,U,B,[0,.02])),a.fill()}if(0!=(2&g.extra)){var G=r.bezier(m,F,O,S[2]),H=r.rescale(r.bezierder(m,F,O,S[1]),.02),K=r.normal(H);a.beginPath(),r.moveTo(a,e,r.transform(G,H,K,[-.3,-1])),r.lineTo(a,e,r.transform(G,H,K,[.3,-1])),r.lineTo(a,e,r.transform(G,H,K,[.3,1])),r.lineTo(a,e,r.transform(G,H,K,[-.3,1])),r.lineTo(a,e,r.transform(G,H,K,[-.3,-1])),a.fill()}void 0!==g.center&&""!==g.center&&(a.lineWidth=1,a.fillStyle="#FFFFFF",a.strokeStyle="#000000",a.textAlign="center",a.fillText.apply(a,[g.center].concat(n(e.screen(a,P[0],P[1]-.02)))),a.strokeText.apply(a,[g.center].concat(n(e.screen(a,P[0],P[1]-.02)))))}for(var L=Object.entries(o),Q=0;Q<L.length;Q++){for(var X=l(L[Q],2),Y=(X[0],h=X[1],{}),Z=Object.entries(h.events),$=0;$<Z.length;$++){var ee=l(Z[$],2);V=ee[0],W=ee[1];s>V?W():Y[V]=W}h.events=Y,a.fillStyle=h.color,a.strokeStyle="#303030",a.lineWidth=3,a.beginPath(),h.id===c?a.arc.apply(a,n(e.screen(a,h.x,h.y)).concat([20,0,2*Math.PI])):a.arc.apply(a,n(e.screen(a,h.x,h.y)).concat([16,0,2*Math.PI])),a.fill(),a.stroke(),!0===h.hole&&(a.fillStyle="#FFFFFF",a.beginPath(),a.arc.apply(a,n(e.screen(a,h.x,h.y)).concat([4,0,2*Math.PI])),a.fill()),!0===h.hhole&&(a.strokeStyle=h.hholeColor,a.beginPath(),a.arc.apply(a,n(e.screen(a,h.x,h.y)).concat([8,0,2*Math.PI])),a.stroke()),!0===h.hhhole&&(a.strokeStyle=h.hhholeColor,a.beginPath(),a.arc.apply(a,n(e.screen(a,h.x,h.y)).concat([24,0,2*Math.PI])),a.stroke()),a.lineWidth=1,a.fillStyle="#FFFFFF",a.strokeStyle="#000000",a.textAlign="center",a.fillText.apply(a,[h.center].concat(n(e.screen(a,h.x,h.y-.05)))),a.strokeText.apply(a,[h.center].concat(n(e.screen(a,h.x,h.y-.05)))),a.textAlign="right",a.fillText.apply(a,[h.left].concat(n(e.screen(a,h.x-.05,h.y)))),a.strokeText.apply(a,[h.left].concat(n(e.screen(a,h.x-.05,h.y)))),a.textAlign="left",a.fillText.apply(a,[h.right].concat(n(e.screen(a,h.x+.05,h.y)))),a.strokeText.apply(a,[h.right].concat(n(e.screen(a,h.x+.05,h.y))))}},addVertex:function(e,r,t){console.log("Add vertex:",a);var n={x:e,y:r,id:a,left:"",center:"",right:"",color:"#000000",hole:!1,hhole:!1,events:{}};void 0!==t&&t(n),o[a]=n,i[a]=[],a++},addEdge:function(e,r,n){if(e!==r&&(void 0===i[e]&&(i[e]=[]),-1===i[e].findIndex(function(e){return e.id===r}))){var o=void 0;if(t)o={id:r,center:"",extra:0,color:"#303030",standard:"#303030",bezier:0,events:{}};else{var a=i[r].findIndex(function(r){return r.id===e});-1!==a&&0===i[r][a].bezier?(i[r][a].bezier=.15,o={id:r,center:"",extra:0,color:"#303030",standard:"#303030",bezier:.15,events:{}}):o={id:r,center:"",extra:0,color:"#303030",standard:"#303030",bezier:0,events:{}}}void 0!==n&&n(o),i[e].push(o),console.log("Add Edge:",e,r)}},removeVertex:function(e){console.log("Remove vertex:",e);for(var r=Object.entries(i),t=0;t<r.length;t++){var n=l(r[t],2),a=(n[0],n[1]);if(void 0!==a){var c=a.findIndex(function(r){return r.id==e});-1!==c&&a.splice(c,1)}}delete o[e],delete i[e]},removeEdge:function(e,r){e!==r&&(void 0===i[e]&&(i[e]=[]),i[e]=i[e].filter(function(e){return e.id!==r}),console.log("Remove Edge:",e,r))},findVertex:function(e,r){for(var t=Object.entries(o),n=0;n<t.length;n++){var i=l(t[n],2),a=(i[0],i[1]);if(Math.sqrt(Math.pow(e-a.x,2)+Math.pow(r-a.y,2))<.05)return a.id}}}}
},{"./screen":"wihe","./vector":"ji7c"}],"piU8":[function(require,module,exports) {
"use strict";function e(e,i){return n(e)||t(e,i)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function t(e,r){var t=[],n=!0,i=!1,o=void 0;try{for(var a,v=e[Symbol.iterator]();!(n=(a=v.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(f){i=!0,o=f}finally{try{n||null==v.return||v.return()}finally{if(i)throw o}}return t}function n(e){if(Array.isArray(e))return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var i=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"];function o(){return{art:function(r){for(var t={},n={},i=[],o={},a=0,v=Object.entries(r.vertices()),f=0;f<v.length;f++){var l=e(v[f],2);l[0];l[1].hole=!1}for(var c=function o(v){r.vertices()[v];t[v]=!0,n[v]=[],i[v]=a,a++;for(var f=Object.entries(r.edges()[v]),l=0;l<f.length;l++){var c=e(f[l],2),d=(c[0],c[1]);void 0===t[d.id]&&(n[v].push(d.id),o(d.id))}},d=function t(a){if(void 0!==o[a])return o[a];for(var v=i[a],f=Object.entries(r.edges()[a]),l=0;l<f.length;l++){var c=e(f[l],2),d=(c[0],c[1]);v=-1===n[a].indexOf(d.id)?Math.min(v,i[d.id]):Math.min(v,t(d.id))}return o[a]=v,v},u=function e(t,o){var a=!0,v=!1,f=void 0;try{for(var l,c=n[o][Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;if(d(u)>=i[o]&&o!==t){r.vertices()[o].hole=!0;break}}}catch(F){v=!0,f=F}finally{try{a||null==c.return||c.return()}finally{if(v)throw f}}var s=!0,h=!1,g=void 0;try{for(var b,y=n[o][Symbol.iterator]();!(s=(b=y.next()).done);s=!0){e(t,b.value)}}catch(F){h=!0,g=F}finally{try{s||null==y.return||y.return()}finally{if(h)throw g}}},s=Object.entries(r.vertices()),h=0;h<s.length;h++){var g=e(s[h],2),b=(g[0],g[1]),y=b.id;i=[],a=0,void 0===t[y]&&(c(y),n[y].length>=2&&(b.hole=!0),u(y,y))}},scc:function(r){for(var t={},n=[],o=[],a=function i(o){r.vertices()[o];t[o]=!0;for(var a=Object.entries(r.edges()[o]),v=0;v<a.length;v++){var f=e(a[v],2),l=(f[0],f[1]);void 0===t[l.id]&&i(l.id)}n.push(o)},v=Object.entries(r.vertices()),f=0;f<v.length;f++){var l=e(v[f],2),c=(l[0],l[1].id);void 0===t[c]&&a(c)}var d=r.transpose(),u=0;t={};for(var s=function n(i,a){r.vertices()[a];t[a]=!0;for(var v=Object.entries(d.edges()[a]),f=0;f<v.length;f++){var l=e(v[f],2),c=(l[0],l[1]);void 0===t[c.id]&&n(i,c.id)}o[i].push(a)};n.length>0;){var h=n.pop();void 0===t[h]&&(o[u]=[],s(u,h),u++)}var g=!0,b=!1,y=void 0;try{for(var F,p=o.entries()[Symbol.iterator]();!(g=(F=p.next()).done);g=!0){var m=e(F.value,2),O=m[0],j=m[1],x=!0,w=!1,S=void 0;try{for(var C,A=j[Symbol.iterator]();!(x=(C=A.next()).done);x=!0){var M=C.value;r.vertices()[M].color=i[o.length-1-O]}}catch(T){w=!0,S=T}finally{try{x||null==A.return||A.return()}finally{if(w)throw S}}}}catch(T){b=!0,y=T}finally{try{g||null==p.return||p.return()}finally{if(b)throw y}}},dfs:function(r,t){var n={},i=0,o=(new Date).getTime();!function t(a){var v=r.vertices()[a];i++,n[a]=!0;var f=i;v.events[o]=function(){v.left=f,v.hhole=!0,v.hholeColor="#000000"},o+=300;for(var l=Object.entries(r.edges()[a]),c=function(){var i=e(l[d],2),v=(i[0],i[1]);void 0===n[v.id]&&(v.events[o]=function(){v.color="#0000FF",v.extra=2},r.iud()&&(r.edges()[v.id].find(function(e){return e.id===a}).color="#0000FF"),t(v.id),o+=300)},d=0;d<l.length;d++)c();o+=300;var u=++i;v.events[o]=function(){v.right=u,v.hhole=!0,v.hholeColor="#FFFFFF"}}(t.id)},bfs:function(r,t){var n=1,i={};i[t.id]=!0;var o=[t.id],a=[],v={},f={},l=(new Date).getTime();for(v[t.id]=-1,f[t.id]=0,t.events[l]=function(){t.hhole=!0,t.hholeColor="#FFFFFF",t.center=0};o.length>0;){l+=300;for(var c=0;c<o.length;c++)for(var d=o[c],u=Object.entries(r.edges()[d]),s=function(){var t=e(u[h],2),o=(t[0],t[1]);if(void 0===i[o.id]){i[o.id]=!0,a.push(o.id);var c=n;o.events[l]=function(){o.color="#0000FF",o.extra=2};var s=r.vertices()[o.id];s.events[l]=function(){s.hhole=!0,s.hholeColor="#FFFFFF",s.center=c},f[o.id]=n,v[o.id]=d}},h=0;h<u.length;h++)s();o=a,a=[],n++}return{visited:i,parents:v,levels:f,timeAnimation:l}},clear:function(r){for(var t=Object.entries(r.vertices()),n=0;n<t.length;n++){var i=e(t[n],2),o=(i[0],i[1]);if(o.left="",o.center="",o.right="",o.events={},o.hhole=!1,void 0!==r.edges()[o.id])for(var a=Object.entries(r.edges()[o.id]),v=0;v<a.length;v++){var f=e(a[v],2),l=(f[0],f[1]);l.extra=0,l.color=l.standard,l.time=0,l.events={}}}}}}
},{}],"h34o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=n(require("./graph")),r=n(require("./algo"));function n(e){return e&&e.__esModule?e:{default:e}}function t(e,r){return a(e)||o(e,r)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,r){var n=[],t=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(t=(a=u.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(c){i=!0,o=c}finally{try{t||null==u.return||u.return()}finally{if(i)throw o}}return n}function a(e){if(Array.isArray(e))return e}function u(n){var i,o,a,u,c=(0,r.default)(),f={},d={},l=void 0,v=void 0,s=void 0,y=void 0,p=void 0,h=0;return{getResidueGraph:function(){return p},init:function(e,r){if(void 0===e||void 0===r)return!1;for(var c=0,l=Object.entries(n.vertices()),v=0;v<l.length;v++){var p=t(l[v],2),h=(p[0],p[1]);d[c]=h.id,f[h.id]=c++}var g=c;i=new Array(g).fill(0).map(function(e){return new Array(g).fill(0)}),o=new Array(g).fill(0).map(function(e){return new Array(g).fill(0)}),a=new Array(g).fill(0).map(function(e){return new Array(g).fill(0)}),u=new Array(g).fill(0).map(function(e){return new Array(g).fill(void 0)});for(var w=Object.entries(n.vertices()),A=0;A<w.length;A++)for(var m=t(w[A],2),b=(m[0],h=m[1],Object.entries(n.edges()[h.id])),F=0;F<b.length;F++){var x=t(b[F],2),_=(x[0],x[1]);i[f[h.id]][f[_.id]]=+_.capacity,u[f[h.id]][f[_.id]]=_,_.center="0/"+_.capacity}return s=e,y=r,this.createResidue(),!0},createResidue:function(){p=(0,e.default)();for(var r=Object.entries(n.vertices()).length,t=function(e){var r=n.vertices()[d[e]];p.addVertex(r.x,1+r.y,function(e){e.color=r.color})},u=0;u<r;u++)t(u);var c=function(e){for(var n=function(r){a[e][r]=Math.max(0,i[e][r]-o[e][r]),a[e][r]>0&&p.addEdge(e,r,function(n){n.center=a[e][r]})},t=0;t<r;t++)n(t)};for(u=0;u<r;u++)c(u);l=p.vertices()[f[s.id]],v=p.vertices()[f[y.id]]},findFlow:function(){if(!((new Date).getTime()<h)&&void 0!==a){this.createResidue(),c.clear(n);var e=c.bfs(p,l),r=e.timeAnimation;e.visited[v.id]&&function(){for(var n=v.id,t=Number.MAX_SAFE_INTEGER,c=e.parents[v.id];-1!==c;)t=Math.min(a[c][n],t),n=c,c=e.parents[c];n=v.id;for(var f=function(c){o[c][n]+=t,o[n][c]=-a[c][n];var f=p.edges()[c].findIndex(function(e){return e.id===n}),l=p.edges()[c][f];if(r+=300,l.events[r]=function(){l.color="#FF0000"},void 0!==u[c][n]){var v=u[c][n],s=o[c][n]+"/"+i[c][n];l.events[r+1]=function(){v.center=s,v.color="#FF0000"}}if(void 0!==u[n][c]){var y=u[n][c],h=o[n][c]+"/"+i[n][c];l.events[r+2]=function(){y.center=h,y.color="#FF0000"}}n=c,c=e.parents[c],d=c},d=e.parents[v.id];-1!==d;)f(d)}(),h=r+300}}}}
},{"./graph":"knfB","./algo":"piU8"}],"mpVp":[function(require,module,exports) {
"use strict";var e=c(require("./graph")),t=c(require("./algo")),o=c(require("./flow")),n=i(require("./screen")),r=i(require("./vector"));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return a(e)||l(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(n=(c=u.next()).done)&&(o.push(c.value),!t||o.length!==t);n=!0);}catch(d){r=!0,i=d}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return o}function a(e){if(Array.isArray(e))return e}function v(e){return y(e)||s(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function y(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}var m,p,h=document.querySelector("#canvas"),S=h.getContext("2d"),b=(0,e.default)(),w=(0,t.default)(),g=!1,q=void 0,k=!1,x=void 0,R=!1,F=void 0,V=!0,B=void 0,T=void 0,M=!1,O=void 0,C=void 0,A=void 0,E=!1,j=0,L=1,P=2,H=j,D=[],I=function(){S.width=h.clientWidth,S.height=h.clientHeight,h.width=h.clientWidth,h.height=h.clientHeight},_=function(e){if(!E){var t=m,o=p;g&&(b.vertices()[q].x=t,b.vertices()[q].y=o),void 0===e&&(V||w.art(b),w.scc(b));var n=b.findVertex(t,o);void 0!==n?B===n&&void 0!==B||(w.clear(b),H===P?(w.dfs(b,b.vertices()[n]),w.scc(b),V||w.art(b),B=n):H===L&&(w.bfs(b,b.vertices()[n]),w.scc(b),V||w.art(b),B=n)):(w.clear(b),B=void 0)}},X=function(){S.clearRect(0,0,S.width,S.height);var e=S.width/S.height;if(k||R){var t=m,o=p;S.strokeStyle=k?"#000000":"#FF0000",S.beginPath(),k?S.moveTo.apply(S,v(n.screen(S,b.vertices()[x].x,b.vertices()[x].y))):S.moveTo.apply(S,v(n.screen(S,b.vertices()[F].x,b.vertices()[F].y))),S.lineTo.apply(S,v(n.screen(S,t,o))),S.stroke()}M&&(S.strokeStyle="#606060",S.beginPath(),r.moveTo(S,n,[-e,0]),r.lineTo(S,n,[e,0]),S.stroke()),b.draw(S,T),void 0!==O&&void 0!==O.getResidueGraph()&&O.getResidueGraph().draw(S)},Y=function e(){X(),requestAnimationFrame(e)};document.onkeydown=function(e){D[e.keyCode]=!0},document.onkeyup=function(e){if(D[e.keyCode]=void 0,89===e.keyCode){if(E)return;b=b.transpose(),B=void 0,_()}},document.onclick=function(e){},document.onmousemove=function(e){if(!E){var t=u(n.inverseScreen(S,e.clientX,e.clientY),2);m=t[0],p=t[1],_(!0),T=b.findVertex(m,p)}},document.onmousedown=function(e){if(!E){var t=u(n.inverseScreen(S,e.clientX,e.clientY),2),o=t[0],r=t[1];m=o,p=r,e.button?void 0!==D[17]||void 0!==D[16]||g||k||R||void 0!==(q=b.findVertex(o,r))&&(g=!0):void 0===D[17]||g||k||R?void 0===D[16]||g||k||R||void 0!==(F=b.findVertex(o,r))&&(R=!0):void 0!==(x=b.findVertex(o,r))&&(k=!0),B=void 0,_()}},document.onmouseup=function(e){if(!E){var t=u(n.inverseScreen(S,e.clientX,e.clientY),2),o=t[0],r=t[1];if(void 0===D[16]||g||k||R)if(void 0===D[17]||g||k||R||!e.button){if(void 0!==D[83]&&M){var i=b.findVertex(o,r);if(void 0!==i){void 0!==C&&(C.hhhole=!1);var c=b.vertices()[i];c.hhhole=!0,c.hhholeColor="#841210",C=c}}else if(void 0!==D[84]&&M){var d=b.findVertex(o,r);if(void 0!==d){void 0!==A&&(A.hhhole=!1);var l=b.vertices()[d];l.hhhole=!0,l.hhholeColor="#136207",A=l}}}else(r<0||!M)&&b.addVertex(o,r);else{var a=b.findVertex(o,r);void 0!==a&&b.removeVertex(a)}if(e.button)g=!1;else{if(g||!k||R){if(!g&&!k&&R){var v=b.findVertex(o,r);void 0!==v&&(V?b.removeEdge(F,v):(b.removeEdge(v,F),b.removeEdge(F,v)))}}else{var f=b.findVertex(o,r),s=M?document.querySelector("#textFlow").value:void 0;void 0!==f&&(V?b.addEdge(x,f,function(e){e.capacity=s,e.center=s}):(b.addEdge(x,f,function(e){e.capacity=s,e.center=s}),b.addEdge(f,x,function(e){e.capacity=s,e.center=s})))}k=!1,R=!1}B=void 0,_()}},window.oncontextmenu=function(e){return!1},window.onresize=function(){I()},document.querySelector("#buttonHelp").onclick=function(){alert("\n        ==== CONTROLS ====\n        LMB = Move Camera\n        CTRL + LMB = Add Edge\n        SHIFT + LMB = Remove Edge\n        RMB = Move Vertex\n        CTRL + RMB = Add Vertex\n        SHIFT + RMB = Remove Vertex\n        S + LMB = Set Source | T + LMB = Set Sink\n        Flow Button -> *Build graph* -> Residue Button -> Repeat Step Button\n    ")},document.querySelector("#buttonClear").onclick=function(){b=(0,e.default)(),E=!1},document.querySelector("#buttonDirected").onclick=function(){b=(0,e.default)(),V=!0,E=!1,document.querySelector("#buttonFlow").style="display: block"},document.querySelector("#buttonUndirected").onclick=function(){b=(0,e.default)(!0),V=!1,E=!1,document.querySelector("#buttonFlow").style="display: none",document.querySelector("#textFlow").style="display: none",document.querySelector("#buttonStep").style="display: none",document.querySelector("#buttonResidue").style="display: none",O=void 0,C=void 0,A=void 0,E=!1,M=!1},document.querySelector("#buttonBFS").onclick=function(){H=L,_()},document.querySelector("#buttonDFS").onclick=function(){H=P,_()},document.querySelector("#buttonNone").onclick=function(){H=j,_()},document.querySelector("#buttonFlow").onclick=function(){V&&((M=!M)?(b=(0,e.default)(!V,void 0,void 0,void 0,!0),document.querySelector("#textFlow").style="display: block",document.querySelector("#buttonStep").style="display: block",document.querySelector("#buttonResidue").style="display: block",O=(0,o.default)(b)):(b=(0,e.default)(!V),document.querySelector("#textFlow").style="display: none",document.querySelector("#buttonStep").style="display: none",document.querySelector("#buttonResidue").style="display: none",O=void 0,C=void 0,A=void 0),E=!1)},document.querySelector("#buttonResidue").onclick=function(){O.init(C,A)&&(E=!0)},document.querySelector("#buttonStep").onclick=function(){E&&O.findFlow()},I(),Y();
},{"./graph":"knfB","./algo":"piU8","./flow":"h34o","./screen":"wihe","./vector":"ji7c"}]},{},["mpVp"], null)
//# sourceMappingURL=/script.72a96779.js.map